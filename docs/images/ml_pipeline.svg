<svg xmlns="http://www.w3.org/2000/svg" width="1000" height="520" viewBox="0 0 1000 520">
  <style>
    .title{font:700 20px sans-serif;fill:#111}
    .label{font:13px sans-serif;fill:#111}
    .small{font:12px sans-serif;fill:#333}
    .box{rx:8;ry:8;stroke:#333;stroke-width:1;fill:#fff}
    .box-red{fill:#ffe3e0}
    .arrow{stroke:#111;stroke-width:1.5;marker-end:url(#arrow)}
  </style>
  <defs>
    <marker id="arrow" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="8" markerHeight="8" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#111" />
    </marker>
  </defs>
  <rect width="100%" height="100%" fill="#fff"/>
  <text x="500" y="32" text-anchor="middle" class="title">ML Pipeline – Logistic Regression</text>

  <!-- Inputs -->
  <g transform="translate(40,80)">
    <rect class="box" x="0" y="0" width="220" height="90"/>
    <text class="label" x="110" y="28" text-anchor="middle">Nguồn dữ liệu</text>
    <text class="small" x="110" y="50" text-anchor="middle">canvas_dwh.dim_* · fact_submissions</text>
  </g>

  <!-- Feature engineering -->
  <g transform="translate(300,80)">
    <rect class="box" x="0" y="0" width="220" height="100"/>
    <text class="label" x="110" y="30" text-anchor="middle">Feature Engineering</text>
    <text class="small" x="110" y="52" text-anchor="middle">avg_grade · submission_count</text>
    <text class="small" x="110" y="72" text-anchor="middle">late_submission_ratio</text>
  </g>

  <!-- Train -->
  <g transform="translate(560,80)">
    <rect class="box box-red" x="0" y="0" width="220" height="100"/>
    <text class="label" x="110" y="30" text-anchor="middle">Huấn luyện</text>
    <text class="small" x="110" y="52" text-anchor="middle">Logistic Regression</text>
    <text class="small" x="110" y="72" text-anchor="middle">F1 · Accuracy (evaluate)</text>
  </g>

  <!-- Outputs -->
  <g transform="translate(820,80)">
    <rect class="box" x="0" y="0" width="160" height="44"/>
    <text class="small" x="80" y="28" text-anchor="middle">student_features</text>
    <rect class="box" x="0" y="60" width="160" height="44"/>
    <text class="small" x="80" y="88" text-anchor="middle">risk_by_course</text>
    <rect class="box" x="0" y="120" width="160" height="44"/>
    <text class="small" x="80" y="148" text-anchor="middle">at_risk_students</text>
    <rect class="box" x="0" y="180" width="160" height="44"/>
    <text class="small" x="80" y="208" text-anchor="middle">model_evaluation</text>
  </g>

  <!-- Arrows -->
  <g>
    <line class="arrow" x1="260" y1="125" x2="300" y2="125"/>
    <line class="arrow" x1="520" y1="125" x2="560" y2="125"/>
    <line class="arrow" x1="780" y1="125" x2="820" y2="125"/>
  </g>
</svg>

